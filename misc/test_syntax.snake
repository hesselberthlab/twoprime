
''' test snakemake.vim syntax highlighting '''

# test python highlighting. major difference in the snakemake syntax is
# that `rule` and `subworkflow` have the same class as `def` and `class`,
# without the trailing parenthetical part.

def do(this):
    pass

class(dict):
    pass

# test snakemake highlighting

include: 'rules.snake'
workdir: 'results'
localrules: rule_inlines
ruleorder: this > that
configfile: 'config.yml'

rule rule_inlines:
    input: 'this'
    params: this = 'that'
    message: 'testing 123 ...'
    threads: 1
    resources: 'lots of RAM'
    version: 1.0
    run: 'sleep 10'
    shell: 'sleep 10'

rule rule_newlines:
    input:
        'this'
    output:
        touch('flagfile'), protected('protectedfile'),
        temp('tempfile')
    params:
        this = 'that'
    message:
        'testing 123 ...'
    threads:
        1
    resources:
        'lots of RAM'
    version:
        1.0 
    run:
        'sleep 10'
    shell:
        'sleep 10'

onsuccess:
    print("Workflow finished, no error")

onerror:
    print("An error occurred")
    shell("mail -s "an error occurred" youremail@provider.com < {log}");

subworkflow otherworkflow:
    workdir:
        "../path/to/otherworkflow"
    snakefile:
        "../path/to/otherworkflow/Snakefile"

# vim: set syntax=snakemake

